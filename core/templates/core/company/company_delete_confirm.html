{% extends 'core/layout/_base.html' %}
{% load static %}

{% block title %}Delete {{ company.name|default:name }}{% endblock %}

{% block body %}
  {% include 'core/partials/_navbar.html' %}
  <div class="container" style="max-width: 600px; margin: 60px auto; text-align: center;">
    {% if messages %}
      <div style="margin-bottom: 1.5rem; text-align:left;">
        {% for message in messages %}
          <p style="padding: .9rem 1.2rem; border-radius: 10px; font-weight: 600; margin: .5rem 0;
                    {% if message.tags == 'error' %}background:#fee2e2; border:1px solid #fecaca; color:#991b1b;
                    {% elif message.tags == 'warning' %}background:#fef3c7; border:1px solid #fde68a; color:#92400e;
                    {% else %}background:#ecfeff; border:1px solid #a5f3fc; color:#155e75;{% endif %}">
            {{ message }}
          </p>
        {% endfor %}
      </div>
    {% endif %}
    <div style="font-size: 64px; margin-bottom: 1.5rem; animation: pulse 2s infinite;">âš ï¸</div>
    <h2>Delete Company?</h2>
    <div style="background: var(--bg-secondary); border: 2px solid var(--border); border-radius: var(--radius-lg); padding: 2.5rem; margin: 2rem 0;">
      <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
        Permanently delete <strong>{{ company.name|default:name }}</strong> from RDF store?
      </p>
      {% if company %}
        <div style="background: var(--bg-muted); padding: 1.5rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
          <div style="display: grid; gap: 0.75rem; text-align: left;">
            <div><strong>Name:</strong> {{ company.name|default:"Unknown" }}</div>
            <div><strong>Type:</strong> {{ company.type|default:"Company" }}</div>
            <div><strong>Employees:</strong> {{ company.number_of_employees|default:"N/A" }}</div>
            <div><strong>Founded:</strong> {{ company.founded_year|default:"â€”" }}</div>
            <div><strong>Headquarters:</strong> {{ company.headquarters_location|default:"â€”" }}</div>
            <div>
              <strong>Special:</strong>
              {% if company.type == 'BusCompany' %}
                Lines: {{ company.number_of_bus_lines|default:"â€”" }}, Avg Bus Age: {{ company.average_bus_age|default:"â€”" }}
              {% elif company.type == 'MetroCompany' %}
                Lines: {{ company.number_of_lines|default:"â€”" }}, Track: {{ company.total_track_length|default:"â€”" }} km
              {% elif company.type == 'TaxiCompany' %}
                Vehicles: {{ company.number_of_vehicles|default:"â€”" }}, Booking App: {{ company.booking_app|yesno:"Yes,No" }}
              {% elif company.type == 'BikeSharingCompany' %}
                Stations: {{ company.number_of_stations|default:"â€”" }}, Bikes: {{ company.bike_count|default:"â€”" }}
              {% else %}
                â€”
              {% endif %}
            </div>
          </div>
        </div>
      {% else %}
        <div style="background: #fef3c7; padding: 1rem; border-radius: var(--radius); border: 1px solid #fde68a; margin-bottom: 1.5rem;">
          <p style="color: #92400e;">âš ï¸ Company data could not be loaded, but you can still delete it.</p>
          <p style="color: #92400e; margin-top: 0.5rem;">Name: <strong>{{ name }}</strong></p>
        </div>
      {% endif %}
      <div style="padding: 1rem; background: #fee; border-radius: var(--radius); border: 1px solid #fcc;">
        <p style="color: #991b1b; font-weight: 600;">âš ï¸ This action is irreversible.</p>
      </div>
      <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
        <form method="post">
          {% csrf_token %}
          <button type="submit" style="padding: 1rem 2rem; background: #ef4444; color: white; border: none; border-radius: var(--radius-full); cursor: pointer; font-weight: 600;">
            ğŸ—‘ï¸ Delete
          </button>
        </form>
        <a href="{% url 'company:list' %}" style="padding: 1rem 2rem; background: transparent; border: 2px solid var(--border); color: var(--text-secondary); border-radius: var(--radius-full); text-decoration: none; font-weight: 600;">
          Cancel
        </a>
      </div>
    </div>
  </div>
  {% include 'core/partials/_footer.html' %}
{% endblock %}

{% block styles %}
<style>
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }
</style>
{% endblock %}

