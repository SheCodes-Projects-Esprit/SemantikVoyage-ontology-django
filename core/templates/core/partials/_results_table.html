{% load dict_filters %}

<table>
  <thead>
    <tr>
      {% for var in vars %}
        <th>{{ var }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for row in processed_results %}
      <tr>
        {% for var in vars %}
          <td>{{ row|get_item:var }}</td>
        {% endfor %}
      </tr>
    {% empty %}
      <tr>
        <td colspan="{{ vars|length|default:1 }}">No results</td>
      </tr>
    {% endfor %}
  </tbody>
</table>